# MemoryOS Configuration
# Copy to config.yaml and customize paths for your system:
#   cp config/config.yaml.example config/config.yaml

# ---------------------------------------------------------------------------
# Obsidian vault -- where all Markdown output lands
# ---------------------------------------------------------------------------
obsidian_vault: ~/Documents/Obsidian/MyVault

# Output folder structure within the vault (numbered for Obsidian sort order)
output:
  email: 00_inbox
  meetings: 10_meetings
  teams: 20_teams-chat
  slides: 40_slides
  knowledge: 50_knowledge
  activity: 85_activity

# ---------------------------------------------------------------------------
# Screenpipe -- screen OCR + audio transcription
# Install: brew install screenpipe   (or https://screenpipe.com)
# The DB is created automatically when Screenpipe runs.
# ---------------------------------------------------------------------------
screenpipe:
  db_path: ~/.screenpipe/db.sqlite

# ---------------------------------------------------------------------------
# Email & Calendar -- choose ONE of the three options below
# ---------------------------------------------------------------------------

# OPTION A: macOS Mail.app + Calendar.app (easiest -- zero config)
# Requires accounts configured in System Settings > Internet Accounts.
mail_app:
  mailboxes:
    - Inbox
    - Sent Items
  batch_size: 200

calendar_app:
  calendars:
    - Calendar
  days_back: 7
  days_forward: 14

# OPTION B: Outlook for Mac (classic, local SQLite DB)
# Typical DB path shown below -- adjust for your profile.
outlook:
  db_path: ~/Library/Group Containers/UBF8T346G9.Office/Outlook/Outlook 15 Profiles/Main Profile/Data/Outlook.sqlite
  messages_dir: ~/Library/Group Containers/UBF8T346G9.Office/Outlook/Outlook 15 Profiles/Main Profile/Data/Messages
  events_dir: ~/Library/Group Containers/UBF8T346G9.Office/Outlook/Outlook 15 Profiles/Main Profile/Data/Events

# OPTION C: Microsoft Graph API (New Outlook / cloud sync)
# Requires Azure AD app registration -- see README.md for steps.
# Set client_id to your registered app's Application (client) ID.
graph:
  client_id: YOUR_CLIENT_ID_HERE
  authority: https://login.microsoftonline.com/common
  scopes:
    - Mail.Read
    - Calendars.Read
  token_cache: config/.graph_token_cache.bin
  poll_interval_seconds: 60

# ---------------------------------------------------------------------------
# OneDrive / cloud document conversion (optional)
# Points to your local OneDrive sync folder.
# ---------------------------------------------------------------------------
onedrive:
  sync_dir: ~/Library/CloudStorage/OneDrive-Personal
  extensions:
    - .docx
    - .pptx
    - .pdf
    - .xlsx

# ---------------------------------------------------------------------------
# State & logging
# ---------------------------------------------------------------------------
state_file: config/state.json
log_dir: logs
log_level: INFO

# ---------------------------------------------------------------------------
# Extractor-specific tuning
# ---------------------------------------------------------------------------
screenpipe_settings:
  dedup_threshold: 0.85        # OCR frame similarity (0.0-1.0)
  teams_app_names:
    - Microsoft Teams

outlook_settings:
  backfill_workers: 8
  batch_size: 500

onedrive_settings:
  max_file_size_mb: 50

# ---------------------------------------------------------------------------
# Memory system
# ---------------------------------------------------------------------------
memory:
  index_db: config/memory.db   # SQLite FTS5 index location
  context_dir: _context         # Auto-generated context files (relative to vault)
  tiers:
    hot_days: 7                 # 0-7 days  -- prioritized in search
    warm_days: 90               # 7-90 days -- normal search weight
                                # 90+ days  -- cold, deprioritized

  # Pinned "core work context" files (vault-relative paths)
  # These are concatenated into _context/core.md by the context generator.
  # Each user creates their own set of knowledge files.
  pinned_files:
    - 50_knowledge/00_profile/brian_work_identity.md
    - 50_knowledge/00_profile/digital_realty_context.md
    - 50_knowledge/00_profile/work_memory_inclusion_rules.md
    - 50_knowledge/00_profile/tag_taxonomy.md
    - 50_knowledge/00_profile/maintenance_protocol.md
    - 50_knowledge/01_programs/nexus_ai_platform.md
    - 50_knowledge/01_programs/magellan_semantic_layer.md
    - 50_knowledge/01_programs/data_governance_mdm.md
    - 50_knowledge/01_programs/sales_ai_enablement.md
    - 50_knowledge/01_programs/thought_leadership_llm_watch.md
    - 50_knowledge/01_programs/ai_keynote_3000_attendees.md
    - 50_knowledge/01_programs/hiring_org_design.md
    - 50_knowledge/01_programs/cursor_cost_and_scale.md
    - 50_knowledge/01_programs/ai_digest_pipeline.md
    - 50_knowledge/01_programs/servicenow_knowledge_ingestion.md
    - 50_knowledge/01_programs/n8n_recreate_nexus_endpoints.md
    - 50_knowledge/03_patterns/reference_architecture_agentic_rag_app.md
    - 50_knowledge/03_patterns/n8n_rag_and_agents_pattern.md
    - 50_knowledge/03_patterns/evaluation_observability_llm.md
    - 50_knowledge/03_patterns/human_in_the_loop_actions.md
    - 50_knowledge/03_patterns/executive_comms_templates.md
    - 50_knowledge/02_preferences/writing_and_feedback_preferences.md
    - 50_knowledge/02_preferences/dev_instructions_preferences.md
    - 50_knowledge/02_preferences/platform_tooling_preferences.md
    - 50_knowledge/00_profile/pinned_core_context_design.md

# ---------------------------------------------------------------------------
# Agent skills -- headless LLM-powered skill execution
# ---------------------------------------------------------------------------
agents:
  provider: openai                    # openai | anthropic | google | azure | ollama
  model: gpt-5.2                      # model name (provider-specific)
  reasoning_effort: high              # none | low | high (where supported)
  api_base: null                      # override for Ollama or custom endpoints
  temperature: 0.3
  skills_dir: ~/.cursor/skills        # where SKILL.md files live
  reports_dir: 90_reports             # output dir within vault

  email:
    enabled: false
    delivery_method: auto              # auto | mail_app | smtp
    from: you@example.com
    to: you@example.com
    smtp_host: smtp.office365.com
    smtp_port: 587
    smtp_user: you@example.com

  overrides: {}                       # per-skill overrides, e.g. news-pulse: {reasoning_effort: low}

# ---------------------------------------------------------------------------
# Privacy & filtering
# ---------------------------------------------------------------------------
privacy:
  auto_privacy_enabled: false
  flag_file: config/.privacy_mode
  trusted_networks:
    - YourHomeWiFi
    - YourWorkWiFi*
  work_apps:
    - Microsoft Teams
    - Microsoft Outlook
    - zoom.us
    - Cursor
    - Terminal
    - iTerm2
    - Safari
    - Google Chrome
    - Arc
    - Slack
    - Code
  audio_filter:
    min_words: 5
    work_hours_only: false
    work_hours_start: "07:00"
    work_hours_end: "19:00"
